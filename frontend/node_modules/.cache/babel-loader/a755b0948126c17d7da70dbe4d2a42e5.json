{"ast":null,"code":"import _slicedToArray from \"/home/karan/AllData/React-Django-Course/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/home/karan/AllData/React-Django-Course/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/karan/AllData/React-Django-Course/frontend/src/components/form/FieldValidation.js\";\nimport React from 'react';\nimport { useState } from 'react';\nexport function withFieldValidation(WrappedComponent) {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        error: null\n      };\n    }\n\n    validate(name, value) {\n      if (value.length === 0) {\n        this.setState({\n          error: 'Field cannot be empty'\n        });\n      } else {\n        this.setState({\n          error: null\n        });\n      }\n\n      this.props.onUpdate(name, value);\n    }\n\n    render() {\n      const error = this.state.error;\n\n      const _this$props = this.props,\n            onUpdate = _this$props.onUpdate,\n            passThroughProps = _objectWithoutProperties(_this$props, [\"onUpdate\"]);\n\n      return React.createElement(\"div\", {\n        className: \"Validated\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, React.createElement(WrappedComponent, Object.assign({\n        onUpdate: this.validate.bind(this)\n      }, passThroughProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      })), error && React.createElement(\"div\", {\n        className: \"Error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, error));\n    }\n\n  };\n}\nexport function useValidation() {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        error = _useState2[0],\n        setError = _useState2[1];\n\n  const validate = event => {\n    if (event.target.value.length === 0) {\n      setError('Field cannot be empty');\n    } else {\n      setError(null);\n    }\n  };\n\n  const ErrorDisplay = () => {\n    if (error) {\n      return React.createElement(\"div\", {\n        className: \"Error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, error);\n    }\n\n    return null;\n  };\n\n  return [ErrorDisplay, validate];\n}","map":{"version":3,"sources":["/home/karan/AllData/React-Django-Course/frontend/src/components/form/FieldValidation.js"],"names":["React","useState","withFieldValidation","WrappedComponent","Component","constructor","props","state","error","validate","name","value","length","setState","onUpdate","render","passThroughProps","bind","useValidation","setError","event","target","ErrorDisplay"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,OAAO,SAASC,mBAAT,CAA6BC,gBAA7B,EAA+C;AACpD,SAAO,cAAcH,KAAK,CAACI,SAApB,CAA8B;AACnCC,IAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,YAAMA,KAAN;AACA,WAAKC,KAAL,GAAa;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAb;AACD;;AAEDC,IAAAA,QAAQ,CAACC,IAAD,EAAOC,KAAP,EAAc;AACpB,UAAIA,KAAK,CAACC,MAAN,KAAiB,CAArB,EAAwB;AACtB,aAAKC,QAAL,CAAc;AAAEL,UAAAA,KAAK,EAAE;AAAT,SAAd;AACD,OAFD,MAEO;AACL,aAAKK,QAAL,CAAc;AAAEL,UAAAA,KAAK,EAAE;AAAT,SAAd;AACD;;AACD,WAAKF,KAAL,CAAWQ,QAAX,CAAoBJ,IAApB,EAA0BC,KAA1B;AACD;;AAEDI,IAAAA,MAAM,GAAG;AAAA,YACCP,KADD,GACW,KAAKD,KADhB,CACCC,KADD;;AAAA,0BAEmC,KAAKF,KAFxC;AAAA,YAECQ,QAFD,eAECA,QAFD;AAAA,YAEcE,gBAFd;;AAGP,aACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,gBAAD;AACE,QAAA,QAAQ,EAAE,KAAKP,QAAL,CAAcQ,IAAd,CAAmB,IAAnB;AADZ,SAEMD,gBAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,EAKGR,KAAK,IAAI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwBA,KAAxB,CALZ,CADF;AASD;;AA3BkC,GAArC;AA6BD;AAED,OAAO,SAASU,aAAT,GAAyB;AAAA,oBACJjB,QAAQ,CAAC,IAAD,CADJ;AAAA;AAAA,QACvBO,KADuB;AAAA,QAChBW,QADgB;;AAE9B,QAAMV,QAAQ,GAAIW,KAAD,IAAW;AAC1B,QAAIA,KAAK,CAACC,MAAN,CAAaV,KAAb,CAAmBC,MAAnB,KAA8B,CAAlC,EAAqC;AACnCO,MAAAA,QAAQ,CAAC,uBAAD,CAAR;AACD,KAFD,MAEO;AACLA,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF,GAND;;AAOA,QAAMG,YAAY,GAAG,MAAM;AACzB,QAAId,KAAJ,EAAW;AACT,aAAO;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwBA,KAAxB,CAAP;AACD;;AACD,WAAO,IAAP;AACD,GALD;;AAMA,SAAO,CAACc,YAAD,EAAeb,QAAf,CAAP;AACD","sourcesContent":["import React from 'react';\nimport { useState } from 'react';\n\nexport function withFieldValidation(WrappedComponent) {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = { error: null };\n    }\n\n    validate(name, value) {\n      if (value.length === 0) {\n        this.setState({ error: 'Field cannot be empty' });\n      } else {\n        this.setState({ error: null });\n      }\n      this.props.onUpdate(name, value);\n    }\n\n    render() {\n      const { error } = this.state;\n      const { onUpdate, ...passThroughProps } = this.props;\n      return (\n        <div className=\"Validated\">\n          <WrappedComponent\n            onUpdate={this.validate.bind(this)}\n            {...passThroughProps}\n          />\n          {error && <div className=\"Error\">{error}</div>}\n        </div>\n      );\n    }\n  };\n}\n\nexport function useValidation() {\n  const [error, setError] = useState(null);\n  const validate = (event) => {\n    if (event.target.value.length === 0) {\n      setError('Field cannot be empty');\n    } else {\n      setError(null);\n    }\n  };\n  const ErrorDisplay = () => {\n    if (error) {\n      return <div className=\"Error\">{error}</div>;\n    }\n    return null;\n  }\n  return [ErrorDisplay, validate];\n}\n"]},"metadata":{},"sourceType":"module"}